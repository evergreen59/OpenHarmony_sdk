# Copyright 2022 Huawei Technologies Co., Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# ============================================================================

import("//build/ohos.gni")

ohos_group("mindspore") {
  deps = [
    ":mindspore_lib",
    "mindir:mindir",

    #"tools/benchmark:benchmark_bin",
  ]
}

ohos_shared_library("mindspore_lib") {
  common_sources = [
    "../core/utils/status.cc",
    "src/c_api/context_c.cc",
    "src/c_api/model_c.cc",
    "src/c_api/tensor_c.cc",
    "src/common/config_file.cc",
    "src/common/context_util.cc",
    "src/common/dynamic_library_loader.cc",
    "src/common/file_utils.cc",
    "src/common/graph_util.cc",
    "src/common/lite_utils.cc",
    "src/common/log.cc",
    "src/common/prim_util.cc",
    "src/common/quant_utils.cc",
    "src/common/string_util.cc",
    "src/common/tensor_util.cc",
    "src/common/utils.cc",
    "src/cpu_info.cc",
    "src/cxx_api/cell.cc",
    "src/cxx_api/context.cc",
    "src/cxx_api/converters.cc",
    "src/cxx_api/graph/graph.cc",
    "src/cxx_api/kernel.cc",
    "src/cxx_api/model/model.cc",
    "src/cxx_api/model/model_impl.cc",
    "src/cxx_api/serialization.cc",
    "src/cxx_api/tensor/tensor_impl.cc",
    "src/cxx_api/tensor_utils.cc",
    "src/cxx_api/types.cc",
    "src/errorcode.cc",
    "src/executor.cc",
    "src/huffman_decode.cc",
    "src/inner_context.cc",
    "src/inner_kernel.cc",
    "src/kernel_registry.cc",
    "src/lite_kernel.cc",
    "src/lite_kernel_util.cc",
    "src/lite_mindrt.cc",
    "src/lite_model.cc",
    "src/lite_session.cc",
    "src/mindrt_executor.cc",
    "src/ms_tensor.cc",
    "src/ops/compat/attr_transfer_common.cc",
    "src/ops/compat/v0/broadcast_to_compat_v0.cc",
    "src/ops/compat/v0/cast_compat_v0.cc",
    "src/ops/compat/v0/expand_dims_compat_v0.cc",
    "src/ops/compat/v0/fill_compat_v0.cc",
    "src/ops/compat/v0/gather_compat_v0.cc",
    "src/ops/compat/v0/nchw2nhwc_compat_v0.cc",
    "src/ops/compat/v0/nhwc2nchw_compat_v0.cc",
    "src/ops/compat/v0/pad_compat_v0.cc",
    "src/ops/compat/v0/permute_compat_v0.cc",
    "src/ops/compat/v0/power_compat_v0.cc",
    "src/ops/compat/v0/reduce_compat_v0.cc",
    "src/ops/compat/v0/reshape_compat_v0.cc",
    "src/ops/compat/v0/slice_compat_v0.cc",
    "src/ops/compat/v0/strided_slice_compat_v0.cc",
    "src/ops/compat/v0/tile_compat_v0.cc",
    "src/ops/compat/v0/topk_compat_v0.cc",
    "src/ops/compat/v0/transpose_compat_v0.cc",
    "src/ops/ops_def.cc",
    "src/ops/ops_utils.cc",
    "src/ops/populate/activation_grad_populate.cc",
    "src/ops/populate/activation_populate.cc",
    "src/ops/populate/adam_populate.cc",
    "src/ops/populate/add_populate.cc",
    "src/ops/populate/adder_populate.cc",
    "src/ops/populate/affine_populate.cc",
    "src/ops/populate/argmax_populate.cc",
    "src/ops/populate/argmin_populate.cc",
    "src/ops/populate/arithmetic_populate.cc",
    "src/ops/populate/arithmetic_self_populate.cc",
    "src/ops/populate/assert_populate.cc",
    "src/ops/populate/assign_add_populate.cc",
    "src/ops/populate/assign_populate.cc",
    "src/ops/populate/audio_spectrogram_populate.cc",
    "src/ops/populate/batch_norm_populate.cc",
    "src/ops/populate/batch_to_space_populate.cc",
    "src/ops/populate/bias_add_populate.cc",
    "src/ops/populate/binary_cross_entropy_grad_populate.cc",
    "src/ops/populate/binary_cross_entropy_populate.cc",
    "src/ops/populate/broadcast_to_populate.cc",
    "src/ops/populate/call_populate.cc",
    "src/ops/populate/cast_populate.cc",
    "src/ops/populate/clip_populate.cc",
    "src/ops/populate/common_populate.cc",
    "src/ops/populate/concat_populate.cc",
    "src/ops/populate/constant_of_shape_populate.cc",
    "src/ops/populate/control/switch_populate.cc",
    "src/ops/populate/control/tensor_array_populate.cc",
    "src/ops/populate/control/tensorlistfromtensor_populate.cc",
    "src/ops/populate/control/tensorlistgetitem_populate.cc",
    "src/ops/populate/control/tensorlistreserve_populate.cc",
    "src/ops/populate/control/tensorlistsetlitem_populate.cc",
    "src/ops/populate/control/tensorliststack_populate.cc",
    "src/ops/populate/conv2d_populate.cc",
    "src/ops/populate/crop_and_resize_populate.cc",
    "src/ops/populate/crop_populate.cc",
    "src/ops/populate/cumsum_populate.cc",
    "src/ops/populate/deconv2d_populate.cc",
    "src/ops/populate/default_populate.cc",
    "src/ops/populate/depth_to_space_populate.cc",
    "src/ops/populate/detection_post_process_populate.cc",
    "src/ops/populate/div_populate.cc",
    "src/ops/populate/eltwise_populate.cc",
    "src/ops/populate/embedding_lookup_populate.cc",
    "src/ops/populate/erf_populate.cc",
    "src/ops/populate/exp_populate.cc",
    "src/ops/populate/expand_dims_populate.cc",
    "src/ops/populate/fill_populate.cc",
    "src/ops/populate/flatten_populate.cc",
    "src/ops/populate/full_connection_populate.cc",
    "src/ops/populate/fused_batchnorm_populate.cc",
    "src/ops/populate/gather_nd_populate.cc",
    "src/ops/populate/gather_populate.cc",
    "src/ops/populate/glu_populate.cc",
    "src/ops/populate/gru_populate.cc",
    "src/ops/populate/instance_norm_populate.cc",
    "src/ops/populate/invert_permutation_populate.cc",
    "src/ops/populate/isfinite_populate.cc",
    "src/ops/populate/l2_norm_populate.cc",
    "src/ops/populate/layer_norm_grad_populate.cc",
    "src/ops/populate/layer_norm_populate.cc",
    "src/ops/populate/lin_space_populate.cc",
    "src/ops/populate/local_response_normalization_populate.cc",
    "src/ops/populate/log_softmax_populate.cc",
    "src/ops/populate/lstm_populate.cc",
    "src/ops/populate/matmul_populate.cc",
    "src/ops/populate/mfcc_populate.cc",
    "src/ops/populate/mul_populate.cc",
    "src/ops/populate/non_max_suppression_populate.cc",
    "src/ops/populate/nonzero_populate.cc",
    "src/ops/populate/one_hot_populate.cc",
    "src/ops/populate/oneslike_populate.cc",
    "src/ops/populate/p_relu_populate.cc",
    "src/ops/populate/pad_populate.cc",
    "src/ops/populate/partial_populate.cc",
    "src/ops/populate/pooling_populate.cc",
    "src/ops/populate/populate_register.cc",
    "src/ops/populate/power_populate.cc",
    "src/ops/populate/prior_box_populate.cc",
    "src/ops/populate/quant_dtype_cast_populate.cc",
    "src/ops/populate/ragged_range_populate.cc",
    "src/ops/populate/random_standard_normal_populate.cc",
    "src/ops/populate/range_populate.cc",
    "src/ops/populate/rank_populate.cc",
    "src/ops/populate/reduce_populate.cc",
    "src/ops/populate/reshape_populate.cc",
    "src/ops/populate/resize_populate.cc",
    "src/ops/populate/reverse_populate.cc",
    "src/ops/populate/reverse_sequence_populate.cc",
    "src/ops/populate/roi_pooling_populate.cc",
    "src/ops/populate/scale_populate.cc",
    "src/ops/populate/scatter_nd_populate.cc",
    "src/ops/populate/scatter_nd_update_populate.cc",
    "src/ops/populate/select_populate.cc",
    "src/ops/populate/shape_populate.cc",
    "src/ops/populate/size_populate.cc",
    "src/ops/populate/slice_populate.cc",
    "src/ops/populate/softmax_populate.cc",
    "src/ops/populate/space_to_batch_nd_populate.cc",
    "src/ops/populate/space_to_batch_populate.cc",
    "src/ops/populate/space_to_depth_populate.cc",
    "src/ops/populate/sparse_softmax_cross_entropy_with_logits.cc",
    "src/ops/populate/sparse_to_dense_populate.cc",
    "src/ops/populate/splice_populate.cc",
    "src/ops/populate/split_populate.cc",
    "src/ops/populate/split_with_overlap_populate.cc",
    "src/ops/populate/squeeze_populate.cc",
    "src/ops/populate/stack_populate.cc",
    "src/ops/populate/strided_slice_grad_populate.cc",
    "src/ops/populate/strided_slice_populate.cc",
    "src/ops/populate/string/custom_extract_features_populate.cc",
    "src/ops/populate/string/custom_normalize_populate.cc",
    "src/ops/populate/string/custom_predict_populate.cc",
    "src/ops/populate/string/hashtable_lookup_populate.cc",
    "src/ops/populate/string/lsh_projection_populate.cc",
    "src/ops/populate/string/skip_gram_populate.cc",
    "src/ops/populate/sub_populate.cc",
    "src/ops/populate/tile_populate.cc",
    "src/ops/populate/topk_populate.cc",
    "src/ops/populate/transpose_populate.cc",
    "src/ops/populate/uniform_real_populate.cc",
    "src/ops/populate/unique_populate.cc",
    "src/ops/populate/unsorted_segment_sum_populate.cc",
    "src/ops/populate/unsqueeze_populate.cc",
    "src/ops/populate/unstack_populate.cc",
    "src/ops/populate/v0/activation_grad_populate_v0.cc",
    "src/ops/populate/v0/activation_populate_v0.cc",
    "src/ops/populate/v0/adam_populate_v0.cc",
    "src/ops/populate/v0/add_populate_v0.cc",
    "src/ops/populate/v0/addn_populate_v0.cc",
    "src/ops/populate/v0/argmax_populate_v0.cc",
    "src/ops/populate/v0/argmin_populate_v0.cc",
    "src/ops/populate/v0/arithmetic_populate_v0.cc",
    "src/ops/populate/v0/arithmetic_self_populate_v0.cc",
    "src/ops/populate/v0/assert_populate_v0.cc",
    "src/ops/populate/v0/assign_add_populate_v0.cc",
    "src/ops/populate/v0/assign_populate_v0.cc",
    "src/ops/populate/v0/batch_norm_populate_v0.cc",
    "src/ops/populate/v0/batch_to_space_populate_v0.cc",
    "src/ops/populate/v0/bias_add_populate_v0.cc",
    "src/ops/populate/v0/bias_grad_populate_v0.cc",
    "src/ops/populate/v0/binary_cross_entropy_grad_populate_v0.cc",
    "src/ops/populate/v0/binary_cross_entropy_populate_v0.cc",
    "src/ops/populate/v0/broadcast_to_populate_v0.cc",
    "src/ops/populate/v0/cast_populate_v0.cc",
    "src/ops/populate/v0/clip_populate_v0.cc",
    "src/ops/populate/v0/common_populate_v0.cc",
    "src/ops/populate/v0/concat_populate_v0.cc",
    "src/ops/populate/v0/constant_of_shape_populate_v0.cc",
    "src/ops/populate/v0/control/switch_populate_v0.cc",
    "src/ops/populate/v0/control/tensorlistfromtensor_populate_v0.cc",
    "src/ops/populate/v0/control/tensorlistgetitem_populate_v0.cc",
    "src/ops/populate/v0/control/tensorlistreserve_populate_v0.cc",
    "src/ops/populate/v0/control/tensorlistsetlitem_populate_v0.cc",
    "src/ops/populate/v0/control/tensorliststack_populate_v0.cc",
    "src/ops/populate/v0/conv2d_populate_v0.cc",
    "src/ops/populate/v0/crop_populate_v0.cc",
    "src/ops/populate/v0/deconv2d_populate_v0.cc",
    "src/ops/populate/v0/dedepthwise_conv2d_populate_v0.cc",
    "src/ops/populate/v0/depth_to_space_populate_v0.cc",
    "src/ops/populate/v0/depthwise_conv2d_populate_v0.cc",
    "src/ops/populate/v0/detection_post_process_populate_v0.cc",
    "src/ops/populate/v0/div_populate_v0.cc",
    "src/ops/populate/v0/eltwise_populate_v0.cc",
    "src/ops/populate/v0/embedding_lookup_populate_v0.cc",
    "src/ops/populate/v0/exp_populate_v0.cc",
    "src/ops/populate/v0/expand_dims_populate_v0.cc",
    "src/ops/populate/v0/fill_populate_v0.cc",
    "src/ops/populate/v0/flatten_populate_v0.cc",
    "src/ops/populate/v0/full_connection_populate_v0.cc",
    "src/ops/populate/v0/fused_batchnorm_populate_v0.cc",
    "src/ops/populate/v0/gather_nd_populate_v0.cc",
    "src/ops/populate/v0/gather_populate_v0.cc",
    "src/ops/populate/v0/gelu_populate_v0.cc",
    "src/ops/populate/v0/instance_norm_populate_v0.cc",
    "src/ops/populate/v0/l2_norm_populate_v0.cc",
    "src/ops/populate/v0/layer_norm_populate_v0.cc",
    "src/ops/populate/v0/local_response_normalization_populate_v0.cc",
    "src/ops/populate/v0/lstm_populate_v0.cc",
    "src/ops/populate/v0/matmul_populate_v0.cc",
    "src/ops/populate/v0/mul_populate_v0.cc",
    "src/ops/populate/v0/nchw2nhwc_populate_v0.cc",
    "src/ops/populate/v0/nhwc2nchw_populate_v0.cc",
    "src/ops/populate/v0/non_max_suppression_populate_v0.cc",
    "src/ops/populate/v0/one_hot_populate_v0.cc",
    "src/ops/populate/v0/oneslike_populate_v0.cc",
    "src/ops/populate/v0/p_relu_populate_v0.cc",
    "src/ops/populate/v0/pad_populate_v0.cc",
    "src/ops/populate/v0/partial_populate_v0.cc",
    "src/ops/populate/v0/pooling_populate_v0.cc",
    "src/ops/populate/v0/power_populate_v0.cc",
    "src/ops/populate/v0/prior_box_populate_v0.cc",
    "src/ops/populate/v0/quant_dtype_cast_populate_v0.cc",
    "src/ops/populate/v0/range_populate_v0.cc",
    "src/ops/populate/v0/rank_populate_v0.cc",
    "src/ops/populate/v0/reduce_populate_v0.cc",
    "src/ops/populate/v0/reshape_populate_v0.cc",
    "src/ops/populate/v0/resize_populate_v0.cc",
    "src/ops/populate/v0/reverse_populate_v0.cc",
    "src/ops/populate/v0/reverse_sequence_populate_v0.cc",
    "src/ops/populate/v0/roi_pooling_populate_v0.cc",
    "src/ops/populate/v0/scale_populate_v0.cc",
    "src/ops/populate/v0/scatter_nd_populate_v0.cc",
    "src/ops/populate/v0/shape_populate_v0.cc",
    "src/ops/populate/v0/slice_populate_v0.cc",
    "src/ops/populate/v0/softmax_populate_v0.cc",
    "src/ops/populate/v0/space_to_batch_nd_populate_v0.cc",
    "src/ops/populate/v0/space_to_batch_populate_v0.cc",
    "src/ops/populate/v0/space_to_depth_populate_v0.cc",
    "src/ops/populate/v0/sparse_to_dense_populate_v0.cc",
    "src/ops/populate/v0/split_populate_v0.cc",
    "src/ops/populate/v0/squared_difference_populate_v0.cc",
    "src/ops/populate/v0/squeeze_populate_v0.cc",
    "src/ops/populate/v0/stack_populate_v0.cc",
    "src/ops/populate/v0/strided_slice_populate_v0.cc",
    "src/ops/populate/v0/string/custom_extract_features_populate_v0.cc",
    "src/ops/populate/v0/string/custom_normalize_populate_v0.cc",
    "src/ops/populate/v0/string/custom_predict_populate_v0.cc",
    "src/ops/populate/v0/string/hashtable_lookup_populate_v0.cc",
    "src/ops/populate/v0/string/lsh_projection_populate_v0.cc",
    "src/ops/populate/v0/string/skip_gram_populate_v0.cc",
    "src/ops/populate/v0/sub_populate_v0.cc",
    "src/ops/populate/v0/tile_populate_v0.cc",
    "src/ops/populate/v0/topk_populate_v0.cc",
    "src/ops/populate/v0/transpose_populate_v0.cc",
    "src/ops/populate/v0/unique_populate_v0.cc",
    "src/ops/populate/v0/unsorted_segment_sum_populate_v0.cc",
    "src/ops/populate/v0/unsqueeze_populate_v0.cc",
    "src/ops/populate/v0/unstack_populate_v0.cc",
    "src/ops/populate/v0/where_populate_v0.cc",
    "src/ops/populate/where_populate.cc",
    "src/registry/kernel_interface_registry.cc",
    "src/registry/register_kernel.cc",
    "src/registry/register_kernel_impl.cc",
    "src/registry/register_kernel_interface.cc",
    "src/runtime/infer_manager.cc",
    "src/runtime/inner_allocator.cc",
    "src/runtime/kernel/arm/base/argminmax_base.cc",
    "src/runtime/kernel/arm/base/assert.cc",
    "src/runtime/kernel/arm/base/call.cc",
    "src/runtime/kernel/arm/base/carry_data.cc",
    "src/runtime/kernel/arm/base/constant_of_shape.cc",
    "src/runtime/kernel/arm/base/convolution_base.cc",
    "src/runtime/kernel/arm/base/crop_base.cc",
    "src/runtime/kernel/arm/base/detection_post_process_base.cc",
    "src/runtime/kernel/arm/base/group_convolution_base.cc",
    "src/runtime/kernel/arm/base/group_convolution_creator.cc",
    "src/runtime/kernel/arm/base/layout_transform.cc",
    "src/runtime/kernel/arm/base/one_hot_base.cc",
    "src/runtime/kernel/arm/base/partial_fusion.cc",
    "src/runtime/kernel/arm/base/pooling_base.cc",
    "src/runtime/kernel/arm/base/prior_box.cc",
    "src/runtime/kernel/arm/base/quant_dtype_cast.cc",
    "src/runtime/kernel/arm/base/random_standard_normal.cc",
    "src/runtime/kernel/arm/base/reduce_base.cc",
    "src/runtime/kernel/arm/base/reshape_base.cc",
    "src/runtime/kernel/arm/base/resize_base.cc",
    "src/runtime/kernel/arm/base/select.cc",
    "src/runtime/kernel/arm/base/slice_base.cc",
    "src/runtime/kernel/arm/base/softmax_base.cc",
    "src/runtime/kernel/arm/base/split_base.cc",
    "src/runtime/kernel/arm/base/split_with_over_lap_base.cc",
    "src/runtime/kernel/arm/base/stack_base.cc",
    "src/runtime/kernel/arm/base/strided_slice.cc",
    "src/runtime/kernel/arm/base/tile_base.cc",
    "src/runtime/kernel/arm/control/switch.cc",
    "src/runtime/kernel/arm/control/tensor_array.cc",
    "src/runtime/kernel/arm/control/tensorlist_fromtensor.cc",
    "src/runtime/kernel/arm/control/tensorlist_getitem.cc",
    "src/runtime/kernel/arm/control/tensorlist_reserve.cc",
    "src/runtime/kernel/arm/control/tensorlist_setitem.cc",
    "src/runtime/kernel/arm/control/tensorlist_stack.cc",
    "src/runtime/kernel/arm/fp32/activation_fp32.cc",
    "src/runtime/kernel/arm/fp32/adder_fp32.cc",
    "src/runtime/kernel/arm/fp32/addn_fp32.cc",
    "src/runtime/kernel/arm/fp32/affine_fp32.cc",
    "src/runtime/kernel/arm/fp32/arithmetic_compare_fp32.cc",
    "src/runtime/kernel/arm/fp32/arithmetic_fp32.cc",
    "src/runtime/kernel/arm/fp32/arithmetic_self_fp32.cc",
    "src/runtime/kernel/arm/fp32/batch_to_space_fp32.cc",
    "src/runtime/kernel/arm/fp32/batchnorm_fp32.cc",
    "src/runtime/kernel/arm/fp32/bias_fp32.cc",
    "src/runtime/kernel/arm/fp32/broadcast_to_fp32.cc",
    "src/runtime/kernel/arm/fp32/cast_fp32.cc",
    "src/runtime/kernel/arm/fp32/concat_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_1x1_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_delegate_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_depthwise_3x3_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_depthwise_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_depthwise_indirect_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_depthwise_slidewindow_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_depthwise_slidewindow_x86_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_slidewindow_fp32.cc",
    "src/runtime/kernel/arm/fp32/convolution_winograd_fp32.cc",
    "src/runtime/kernel/arm/fp32/crop_and_resize_fp32.cc",
    "src/runtime/kernel/arm/fp32/crop_fp32.cc",
    "src/runtime/kernel/arm/fp32/cumsum_fp32.cc",
    "src/runtime/kernel/arm/fp32/deconvolution_depthwise_fp32.cc",
    "src/runtime/kernel/arm/fp32/deconvolution_fp32.cc",
    "src/runtime/kernel/arm/fp32/deconvolution_winograd_fp32.cc",
    "src/runtime/kernel/arm/fp32/depth_to_space_fp32.cc",
    "src/runtime/kernel/arm/fp32/detection_post_process_fp32.cc",
    "src/runtime/kernel/arm/fp32/embedding_lookup_fp32.cc",
    "src/runtime/kernel/arm/fp32/exp_fp32.cc",
    "src/runtime/kernel/arm/fp32/fill_fp32.cc",
    "src/runtime/kernel/arm/fp32/fullconnection_fp32.cc",
    "src/runtime/kernel/arm/fp32/fused_batchnorm_fp32.cc",
    "src/runtime/kernel/arm/fp32/gatherNd_fp32.cc",
    "src/runtime/kernel/arm/fp32/gather_fp32.cc",
    "src/runtime/kernel/arm/fp32/glu_fp32.cc",
    "src/runtime/kernel/arm/fp32/group_convolution_fp32.cc",
    "src/runtime/kernel/arm/fp32/gru_fp32.cc",
    "src/runtime/kernel/arm/fp32/instance_norm_fp32.cc",
    "src/runtime/kernel/arm/fp32/invert_permutation_fp32.cc",
    "src/runtime/kernel/arm/fp32/l2_norm_fp32.cc",
    "src/runtime/kernel/arm/fp32/layer_norm_fp32.cc",
    "src/runtime/kernel/arm/fp32/local_response_norm_fp32.cc",
    "src/runtime/kernel/arm/fp32/log_softmax_fp32.cc",
    "src/runtime/kernel/arm/fp32/lstm_fp32.cc",
    "src/runtime/kernel/arm/fp32/matmul_fp32.cc",
    "src/runtime/kernel/arm/fp32/matmul_fp32_base.cc",
    "src/runtime/kernel/arm/fp32/non_max_suppression_fp32.cc",
    "src/runtime/kernel/arm/fp32/nonzero_fp32.cc",
    "src/runtime/kernel/arm/fp32/pad_fp32.cc",
    "src/runtime/kernel/arm/fp32/pooling_fp32.cc",
    "src/runtime/kernel/arm/fp32/power_fp32.cc",
    "src/runtime/kernel/arm/fp32/prelu_fp32.cc",
    "src/runtime/kernel/arm/fp32/ragged_range_fp32.cc",
    "src/runtime/kernel/arm/fp32/range_fp32.cc",
    "src/runtime/kernel/arm/fp32/rank_fp32.cc",
    "src/runtime/kernel/arm/fp32/reduce_fp32.cc",
    "src/runtime/kernel/arm/fp32/relative_position_attention_fp32.cc",
    "src/runtime/kernel/arm/fp32/resize_fp32.cc",
    "src/runtime/kernel/arm/fp32/reverse_fp32.cc",
    "src/runtime/kernel/arm/fp32/reverse_sequence_fp32.cc",
    "src/runtime/kernel/arm/fp32/roi_pooling_fp32.cc",
    "src/runtime/kernel/arm/fp32/scale_fp32.cc",
    "src/runtime/kernel/arm/fp32/scatter_nd_fp32.cc",
    "src/runtime/kernel/arm/fp32/scatter_nd_update_fp32.cc",
    "src/runtime/kernel/arm/fp32/shape_fp32.cc",
    "src/runtime/kernel/arm/fp32/size_fp32.cc",
    "src/runtime/kernel/arm/fp32/softmax_fp32.cc",
    "src/runtime/kernel/arm/fp32/space_to_batch_fp32.cc",
    "src/runtime/kernel/arm/fp32/space_to_depth_fp32.cc",
    "src/runtime/kernel/arm/fp32/sparse_to_dense_fp32.cc",
    "src/runtime/kernel/arm/fp32/splice_fp32.cc",
    "src/runtime/kernel/arm/fp32/topk_fp32.cc",
    "src/runtime/kernel/arm/fp32/transpose_fp32.cc",
    "src/runtime/kernel/arm/fp32/uniform_real_fp32.cc",
    "src/runtime/kernel/arm/fp32/unique_fp32.cc",
    "src/runtime/kernel/arm/fp32/unstack_fp32.cc",
    "src/runtime/kernel/arm/fp32/where_fp32.cc",
    "src/runtime/kernel/arm/fp32/zeroslike_fp32.cc",
    "src/runtime/kernel/arm/int8/activation_int8.cc",
    "src/runtime/kernel/arm/int8/add_int8.cc",
    "src/runtime/kernel/arm/int8/argminmax_int8.cc",
    "src/runtime/kernel/arm/int8/arithmetic_int8.cc",
    "src/runtime/kernel/arm/int8/arithmetic_self_int8.cc",
    "src/runtime/kernel/arm/int8/batch_to_space_int8.cc",
    "src/runtime/kernel/arm/int8/batchnorm_int8.cc",
    "src/runtime/kernel/arm/int8/bias_add_int8.cc",
    "src/runtime/kernel/arm/int8/concat_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_1x1_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_3x3_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_depthwise_3x3_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_depthwise_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_depthwise_slidewindow_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_int8.cc",
    "src/runtime/kernel/arm/int8/convolution_int8_creator.cc",
    "src/runtime/kernel/arm/int8/crop_int8.cc",
    "src/runtime/kernel/arm/int8/deconvolution_depthwise_int8.cc",
    "src/runtime/kernel/arm/int8/deconvolution_int8.cc",
    "src/runtime/kernel/arm/int8/depth_to_space_int8.cc",
    "src/runtime/kernel/arm/int8/detection_post_process_int8.cc",
    "src/runtime/kernel/arm/int8/div_int8.cc",
    "src/runtime/kernel/arm/int8/fullconnection_int8.cc",
    "src/runtime/kernel/arm/int8/gatherNd_int8.cc",
    "src/runtime/kernel/arm/int8/gather_int8.cc",
    "src/runtime/kernel/arm/int8/group_convolution_int8.cc",
    "src/runtime/kernel/arm/int8/hswish_int8.cc",
    "src/runtime/kernel/arm/int8/l2_norm_int8.cc",
    "src/runtime/kernel/arm/int8/layer_norm_int8.cc",
    "src/runtime/kernel/arm/int8/leaky_relu_int8.cc",
    "src/runtime/kernel/arm/int8/matmul_base_int8.cc",
    "src/runtime/kernel/arm/int8/matmul_int8.cc",
    "src/runtime/kernel/arm/int8/mul_int8.cc",
    "src/runtime/kernel/arm/int8/opt_op_handler.cc",
    "src/runtime/kernel/arm/int8/pad_int8.cc",
    "src/runtime/kernel/arm/int8/pooling_int8.cc",
    "src/runtime/kernel/arm/int8/power_int8.cc",
    "src/runtime/kernel/arm/int8/reduce_int8.cc",
    "src/runtime/kernel/arm/int8/relux_int8.cc",
    "src/runtime/kernel/arm/int8/reshape_int8.cc",
    "src/runtime/kernel/arm/int8/resize_int8.cc",
    "src/runtime/kernel/arm/int8/scale_int8.cc",
    "src/runtime/kernel/arm/int8/sigmoid_int8.cc",
    "src/runtime/kernel/arm/int8/slice_int8.cc",
    "src/runtime/kernel/arm/int8/softmax_int8.cc",
    "src/runtime/kernel/arm/int8/space_to_batch_int8.cc",
    "src/runtime/kernel/arm/int8/split_int8.cc",
    "src/runtime/kernel/arm/int8/squeeze_int8.cc",
    "src/runtime/kernel/arm/int8/sub_int8.cc",
    "src/runtime/kernel/arm/int8/tanh_int8.cc",
    "src/runtime/kernel/arm/int8/topk_int8.cc",
    "src/runtime/kernel/arm/int8/transpose_int8.cc",
    "src/runtime/kernel/arm/int8/unsqueeze_int8.cc",
    "src/runtime/kernel/arm/string/extract_feature.cc",
    "src/runtime/kernel/arm/string/hashtable_lookup.cc",
    "src/runtime/kernel/arm/string/lsh_projection.cc",
    "src/runtime/kernel/arm/string/normalize.cc",
    "src/runtime/kernel/arm/string/predict.cc",
    "src/runtime/kernel/arm/string/skip_gram.cc",
    "src/runtime/runtime_pass.cc",
    "src/scheduler.cc",
    "src/sub_graph_kernel.cc",
    "src/sub_graph_split.cc",
    "src/tensor.cc",
    "src/tensorlist.cc",
    "src/weight_decoder.cc",
    "tools/converter/quantizer/fse_bit_stream.cc",
    "tools/converter/quantizer/fse_decoder.cc",
  ]

  sources = []
  if (target_cpu == "arm64") {
    arm64_sources = [
      "src/runtime/kernel/arm/fp16/activation_fp16.cc",
      "src/runtime/kernel/arm/fp16/addn_fp16.cc",
      "src/runtime/kernel/arm/fp16/arithmetic_compare_fp16.cc",
      "src/runtime/kernel/arm/fp16/arithmetic_fp16.cc",
      "src/runtime/kernel/arm/fp16/arithmetic_self_fp16.cc",
      "src/runtime/kernel/arm/fp16/batchnorm_fp16.cc",
      "src/runtime/kernel/arm/fp16/biasadd_fp16.cc",
      "src/runtime/kernel/arm/fp16/cast_fp16.cc",
      "src/runtime/kernel/arm/fp16/common_fp16.cc",
      "src/runtime/kernel/arm/fp16/concat_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_1x1_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_delegate_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_depthwise_3x3_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_depthwise_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_depthwise_slidewindow_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_fp16.cc",
      "src/runtime/kernel/arm/fp16/convolution_winograd_fp16.cc",
      "src/runtime/kernel/arm/fp16/crop_fp16.cc",
      "src/runtime/kernel/arm/fp16/deconvolution_depthwise_fp16.cc",
      "src/runtime/kernel/arm/fp16/deconvolution_fp16.cc",
      "src/runtime/kernel/arm/fp16/deconvolution_winograd_fp16.cc",
      "src/runtime/kernel/arm/fp16/depth_to_space_fp16.cc",
      "src/runtime/kernel/arm/fp16/exp_fp16.cc",
      "src/runtime/kernel/arm/fp16/fill_fp16.cc",
      "src/runtime/kernel/arm/fp16/fullconnection_fp16.cc",
      "src/runtime/kernel/arm/fp16/fused_batchnorm_fp16.cc",
      "src/runtime/kernel/arm/fp16/gather_fp16.cc",
      "src/runtime/kernel/arm/fp16/group_convolution_fp16.cc",
      "src/runtime/kernel/arm/fp16/gru_fp16.cc",
      "src/runtime/kernel/arm/fp16/instance_norm_fp16.cc",
      "src/runtime/kernel/arm/fp16/layer_norm_fp16.cc",
      "src/runtime/kernel/arm/fp16/layout_transform_fp16.cc",
      "src/runtime/kernel/arm/fp16/log_softmax_fp16.cc",
      "src/runtime/kernel/arm/fp16/lstm_fp16.cc",
      "src/runtime/kernel/arm/fp16/matmul_base_fp16.cc",
      "src/runtime/kernel/arm/fp16/matmul_fp16.cc",
      "src/runtime/kernel/arm/fp16/pad_fp16.cc",
      "src/runtime/kernel/arm/fp16/pooling_fp16.cc",
      "src/runtime/kernel/arm/fp16/power_fp16.cc",
      "src/runtime/kernel/arm/fp16/quant_dtype_cast_fp16.cc",
      "src/runtime/kernel/arm/fp16/ragged_range_fp16.cc",
      "src/runtime/kernel/arm/fp16/reduce_fp16.cc",
      "src/runtime/kernel/arm/fp16/scale_fp16.cc",
      "src/runtime/kernel/arm/fp16/slice_fp16.cc",
      "src/runtime/kernel/arm/fp16/softmax_fp16.cc",
      "src/runtime/kernel/arm/fp16/stack_fp16.cc",
      "src/runtime/kernel/arm/fp16/transpose_fp16.cc",
    ]
    sources += arm64_sources
  }
  sources += common_sources
  include_dirs = [
    "//base/hiviewdfx/hilog/interfaces/native/innerkits/include",
    "//third_party/flatbuffers/include",
    "./",
    "../../",
    "../../mindspore/core/",
    "src",
    "src/c_api/",
    "../ccsrc/backend/kernel_compiler/cpu/",
    "../../mindspore/core/mindrt/src/",
    "../../mindspore/core/mindrt/include/",
    "../../third_party/",
  ]

  defines = [
    "ENABLE_MINDRT",
    "MS_COMPILE_OHOS",
    "ENABLE_V0",
  ]

  if (target_cpu == "arm") {
    defines += [
      "ENABLE_ARM",
      "ENABLE_ARM32",
      "ENABLE_NEON",
    ]
  } else if (target_cpu == "arm64") {
    defines += [
      "ENABLE_ARM",
      "ENABLE_ARM64",
      "ENABLE_NEON",
      "ENABLE_FP16",
      "USE_OPENCL_WRAPPER",
      "MS_OPENCL_PROFILE=false",
      "CL_TARGET_OPENCL_VERSION=200",
      "CL_HPP_TARGET_OPENCL_VERSION=120",
      "CL_HPP_MINIMUM_OPENCL_VERSION=120",
    ]
  }
  disable_android = true
  if (disable_android) {
    cflags = [
      "-UANDROID",
      "-U__ANDROID__",
      "-U__ANDROID_API__",
    ]
    cflags_cc = [
      "-UANDROID",
      "-U__ANDROID__",
      "-U__ANDROID_API__",
    ]
  }
  configs = [ ":opencl_option" ]
  deps = [
    "../ccsrc/backend/kernel_compiler/cpu/nnacl/:nnacl_o",
    "../core/mindrt/:mindrt_o",
  ]
  external_deps = [ "hilog_native:libhilog" ]

  output_name = "libmindspore-lite.huawei"
  output_extension = "so"

  public_configs = [ ":mindspore_api" ]
  SUPPORT_NNRT = true
  if (SUPPORT_NNRT) {
    sources += [
      "mindir/src/mindir_nnrt_lite_graph.cc",
      "src/delegate/nnrt/checker/primitive_check.cc",
      "src/delegate/nnrt/nnrt_delegate.cc",
      "src/delegate/nnrt/nnrt_model_kernel.cc",
    ]
    include_dirs += [
      "//foundation/ai/neural_network_runtime",
      "src/delegate/nnrt/include",
      "../../mindspore/core/ir",
      "mindir/include",
      "mindir/inner_headers",
    ]
    external_deps += [ "neural_network_runtime:nnrt_target" ]
    deps += [ "mindir:mindir" ]
    defines += [ "SUPPORT_NNRT" ]
  }
  part_name = "mindspore"
}

config("opencl_option") {
  cflags_cc = [ "-Wno-missing-braces" ]
}

config("mindspore_api") {
  include_dirs = [ "../../include/" ]
}
